<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auckland Railways Open Data Vibecoded</title>
    <link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />
    <link href="auckland-map.css" rel="stylesheet" />
    <script src="rail-preprocess.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js"></script>
</head>
<body>
    <div id="map"></div>

    <!-- Rail source skeuomorphic toggle -->
    <div id="railSourceToggleContainer" style="
        position: absolute;
        top: 16px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 20;
        background: rgba(255,255,255,0.95);
        padding: 8px 20px;
        border-radius: 24px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        font-family: Arial, sans-serif;
        display: flex;
        align-items: center;
        cursor: pointer;
        width: 180px;
        height: 40px;
        user-select: none;
    ">
        <div id="railSourceToggleSlider" style="
            position: absolute;
            left: 4px;
            width: 50%;
            height: 80%;
            background: #e0e0e0;
            border-radius: 18px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.10);
            transition: left 0.2s;
            z-index: 1;
        "></div>
        <div id="railSourceBefore" style="
            flex: 1;
            text-align: center;
            font-weight: bold;
            color: #333;
            z-index: 2;
            position: relative;
        ">Before</div>
        <div id="railSourceAfter" style="
            flex: 1;
            text-align: center;
            font-weight: bold;
            color: #333;
            z-index: 2;
            position: relative;
        ">After</div>
    </div>

    <!-- Te Huia toggle -->
    <div id="toggleContainer" style="
        cursor: pointer;
        position: absolute;
        top: 16px;
        right: 16px;
        z-index: 10;
        background: rgba(255,255,255,0.95);
        padding: 6px 6px;
        border-radius: 6px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        font-family: Arial, sans-serif;
    ">
        <label id="toggleLabel" style="cursor: pointer; font-weight: bold; user-select: none;">
            <input id="toggleCheckbox" type="checkbox" style="cursor: pointer; margin-right: 8px;">
            Show Te Huia
        </label>
    </div>

    <script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>
    <script src="auckland-map.js"></script>
</body>
</html>
